<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:adm="http://github.com/adminfaces"
                template="#{layoutMB.template}">

    <ui:define name="metadata">
        <ui:param name="title" value="Resumen Tramite"/>
    </ui:define>

    <ui:define name="body">

        <h:form id="tramiteForm">

            <!-- Pestaña Datos Tramite -->
            <p:panel header="Datos Tramite" toggleable="true" collapsed="true">
                <h:panelGrid columns="2">
                    <h:outputLabel value="Número Tramite:" />
                    <h:outputText value="#{uiresumen.nroTramite}" />

                    <h:outputLabel value="Fecha Ingreso:" />
                    <h:outputText value="#{uiresumen.fechaRecepcionTramite}" />

                    <h:outputLabel value="Plazo entrega documentación:" />
                    <h:outputText value="#{uiresumen.plazoDocumentacion}" />

                    <h:outputLabel value="Cod Tipo Tramite:" />
                    <h:outputText value="#{uiresumen.codTipoTramite}" />

                    <h:outputLabel value="Tipo Tramite:" />
                    <h:outputText value="#{uiresumen.nombreTipoTramite}" />

                    <h:outputLabel value="Estado Tramite:" />
                    <h:outputText value="#{uiresumen.nombreEstado}" />

                    <h:outputLabel value="Precio:" />
                    <h:outputText value="#{uiresumen.precioTramite}" />
                </h:panelGrid>
            </p:panel>

            <!-- Pestaña Datos Cliente -->
            <p:panel header="Datos Cliente" toggleable="true" collapsed="true">
                <h:panelGrid columns="2">
                    <h:outputLabel value="Nombre:" />
                    <h:outputText value="#{uiresumen.nombreCliente}" />

                    <h:outputLabel value="Apellido:" />
                    <h:outputText value="#{uiresumen.apellidoCliente}" />

                    <h:outputLabel value="DNI:" />
                    <h:outputText value="#{uiresumen.dniCliente}" />

                    <h:outputLabel value="Correo:" />
                    <h:outputText value="#{uiresumen.mailCliente}" />
                </h:panelGrid>
            </p:panel>

            <!-- Pestaña Documentación -->
            <p:panel header="Documentación" toggleable="true" collapsed="true">
                <h:panelGrid columns="3" styleClass="tableStyle">
                    <h:outputLabel value="Nombre Documento" styleClass="headerCell" />
                    <h:outputLabel value="Estado Entrega" styleClass="headerCell" />
                    <h:outputLabel value="Agregar/Editar Entrega" styleClass="headerCell" />

                   <ui:repeat var="doc" value="#{uiresumen.resumenDoc}">
                        <tr>
                            <td><h:outputText value="#{doc.nombreDocumentacion}" /></td>
                            <td>
                                <h:outputText value="#{doc.fechaEntregaDoc != null ? 'ENTREGADO' : 'PENDIENTE'}" 
                                              style="color: #{doc.fechaEntregaDoc != null ? 'green' : 'red'};" />
                            </td>
                            <td>
                                <h:commandLink action="#{uiresumen.editarEntrega(doc)}">
                                    <p:graphicImage name="resources/icons/edit_icon.png" alt="Editar" style="cursor: pointer;" />
                                </h:commandLink>
                            </td>
                        </tr>
                    </ui:repeat>
                </h:panelGrid>
            </p:panel>

            <!-- Botón de Anular -->
            <h:panelGroup>
                <p:commandButton value="Anular Trámite" action="#{uiresumen.anularTramite}" />
            </h:panelGroup>

        </h:form>

    </ui:define>
</ui:composition>
